@(title: String)

@main("Purchases") {
    <h1>Welcome to log in page!</h1>

    @helper.form(action = routes.Application.signup) {
        Login: <input type="text" name="login" id="login"><br/>
        Pass: <input type="text" name="password" id="password"><br/>
        Name: <input type="text" name="name" id="name"><br/>
        Surname: <input type="text" name="surname" id="surname"><br/>
        Email: <input type="text" name="email" id="email"><br/>
        <input type="submit" value="submit" id="signup_but">
    }
}{
    <script>
            $(document).ready(function () {
                console.log("It is ready!!");
                $("#signup_but").click(function(){
                    $.ajax({
                        beforeSend: function(xhrObj){
                            xhrObj.setRequestHeader("Content-Type","application/json;text/json;");
                            xhrObj.setRequestHeader("Accept","application/json;text/json;");
                        },
                        type: "POST",
                        url: "/signup",
                        data: JSON.stringify({
                            "login": $("#login").val(),
                            "password": $("#password").val(),
                            "name": $("#name").val(),
                            "surname": $("#surname").val(),
                            "email": $("#email").val()
                        }),
                        dataType: "json",
                        success: function(json){
//                            console.log(json)
                            window.location.replace("/purchases");
                        }
                    });
                    return false;
                });
            });
    </script>
}